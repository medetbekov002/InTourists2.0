package com.dev.intourist.ui.screen.contactsimport android.content.ActivityNotFoundExceptionimport android.content.Intentimport android.net.Uriimport android.os.Bundleimport android.view.Viewimport android.widget.Toastimport androidx.navigation.fragment.findNavControllerimport com.dev.intourist.Rimport com.dev.intourist.databinding.FragmentContactsBindingimport com.dev.intourist.presentation.base.fragment.BaseFragmentimport org.koin.androidx.viewmodel.ext.android.viewModelimport by.kirich1409.viewbindingdelegate.viewBindingimport com.dev.intourist.ui.screen.contacts.ContactsViewModelclass ContactsFragment :    BaseFragment<FragmentContactsBinding, ContactsViewModel>(R.layout.fragment_contacts) {    override val binding: FragmentContactsBinding by viewBinding(FragmentContactsBinding::bind)    override val viewModel: ContactsViewModel by viewModel()    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {        super.onViewCreated(view, savedInstanceState)        binding.apply {            btnContactTelegram.setOnClickListener {                openTelegram("medetbekov002")            }            btnContactWhatsApp.setOnClickListener {                openWhatsApp("996704848277")            }            btnContactInstagram.setOnClickListener {                openInstagram("in_tourists")            }            tvContacts.setNavigationOnClickListener {                findNavController().popBackStack()            }        }    }    private fun openInstagram(username: String) {        val uri = Uri.parse("http://instagram.com/_u/$username")        val likeIng = Intent(Intent.ACTION_VIEW, uri)        likeIng.setPackage("com.instagram.android")        try {            startActivity(likeIng)        } catch (e: Exception) {            // If Instagram app is not installed, open in browser            val webUri = Uri.parse("http://instagram.com/$username")            val webIntent = Intent(Intent.ACTION_VIEW, webUri)            startActivity(webIntent)        }    }    private fun openWhatsApp(phoneNumber: String) {        val url = "https://wa.me/$phoneNumber"        val intent = Intent(Intent.ACTION_VIEW).apply {            data = Uri.parse(url)            setPackage("com.whatsapp")        }        try {            startActivity(intent)        } catch (e: ActivityNotFoundException) {            Toast.makeText(                requireContext(),                "WhatsApp is not installed on your device",                Toast.LENGTH_SHORT            ).show()            try {                startActivity(                    Intent(                        Intent.ACTION_VIEW,                        Uri.parse("market://details?id=com.whatsapp")                    )                )            } catch (e: ActivityNotFoundException) {                startActivity(                    Intent(                        Intent.ACTION_VIEW,                        Uri.parse("https://play.google.com/store/apps/details?id=com.whatsapp")                    )                )            }        }    }    private fun openTelegram(username: String) {        val url = "tg://resolve?domain=$username"        val intent = Intent(Intent.ACTION_VIEW).apply {            data = Uri.parse(url)            setPackage("org.telegram.messenger")        }        try {            startActivity(intent)        } catch (e: ActivityNotFoundException) {            Toast.makeText(                requireContext(),                "Telegram is not installed on your device",                Toast.LENGTH_SHORT            ).show()            try {                startActivity(                    Intent(                        Intent.ACTION_VIEW,                        Uri.parse("market://details?id=org.telegram.messenger")                    )                )            } catch (e: ActivityNotFoundException) {                startActivity(                    Intent(                        Intent.ACTION_VIEW,                        Uri.parse("https://play.google.com/store/apps/details?id=org.telegram.messenger")                    )                )            }        }    }}